import{r as p,j as t}from"./index-B6ULaNUE.js";import{g as k}from"./index-CH_iu5NA.js";const j=g=>new Promise(v=>setTimeout(v,g)),H=()=>{const[g,v]=p.useState(10),[A,I]=p.useState(!1),[w,R]=p.useState(""),[u,L]=p.useState("Bubble Sort"),[N,O]=p.useState([]),[S,M]=p.useState(1e3),h=p.useRef([]),f=p.useRef(!1),C=p.useRef(!1),[z,y]=p.useState(""),[b,$]=p.useState({best:"-",average:"-",worst:"-",space:"-"}),B=()=>{const e=Array.from({length:g},()=>Math.floor(Math.random()*100));O(e)},T=async e=>{e.preventDefault(),C.current=!1,f.current=!1,I(!1);let s=w?w.split(",").map(n=>parseInt(n.trim())):N;if(!s||s.length===0)return;O([...s]);let o=[];u==="Bubble Sort"?o=E([...s]):u==="Selection Sort"?o=F([...s]):u==="Insertion Sort"?o=U([...s]):u==="Merge Sort"?o=G([...s]):u==="Quick Sort"&&(o=W([...s])),await q(o)},P=()=>{f.current=!f.current,I(e=>!e)},Q=()=>{C.current=!0,O([]),h.current=[],y("")},E=e=>{const s=[],o=e.length;for(let n=0;n<o-1;n++)for(let i=0;i<o-n-1;i++)s.push({i,j:i+1,type:"compare",condition:e[i]>e[i+1]}),e[i]>e[i+1]&&([e[i],e[i+1]]=[e[i+1],e[i]],s.push({i,j:i+1,type:"swap"}));return s},F=e=>{const s=[];for(let o=0;o<e.length;o++){let n=o;for(let i=o+1;i<e.length;i++)s.push({i:n,j:i,type:"compare",condition:e[i]<e[n]}),e[i]<e[n]&&(n=i);n!==o&&([e[o],e[n]]=[e[n],e[o]],s.push({i:o,j:n,type:"swap"}))}return s},U=e=>{const s=[];for(let o=1;o<e.length;o++){let n=o;for(;n>0&&(s.push({i:n-1,j:n,type:"compare",condition:e[n-1]>e[n]}),e[n-1]>e[n]);){[e[n-1],e[n]]=[e[n],e[n-1]],s.push({i:n-1,j:n,type:"swap"});n--}}return s},G=e=>{const s=[],o=(i,a)=>{if(i>=a)return;const c=Math.floor((i+a)/2);o(i,c),o(c+1,a),n(i,c,a)},n=(i,a,c)=>{let l=[],r=i,d=a+1;for(;r<=a&&d<=c;)s.push({i:r,j:d,type:"compare",condition:e[r]<=e[d]}),e[r]<=e[d]?l.push(e[r++]):l.push(e[d++]);for(;r<=a;)l.push(e[r++]);for(;d<=c;)l.push(e[d++]);for(let x=i;x<=c;x++)e[x]=l[x-i],s.push({i:x,val:e[x],type:"overwrite"})};return o(0,e.length-1),s},W=e=>{const s=[],o=(i,a)=>{if(i<a){const c=n(i,a);o(i,c-1),o(c+1,a)}},n=(i,a)=>{const c=e[a];let l=i;for(let r=i;r<a;r++)s.push({i:r,j:a,type:"compare",condition:e[r]<c}),e[r]<c&&([e[l],e[r]]=[e[r],e[l]],s.push({i:l,j:r,type:"swap"}),l++);return[e[l],e[a]]=[e[a],e[l]],s.push({i:l,j:a,type:"swap"}),l};return o(0,e.length-1),s},q=async e=>{for(let s of e){if(C.current)return;for(;f.current;)await j(100);const o=h.current[s.i],n=h.current[s.j];if(s.type==="compare"){const i=s.condition?`arr[${s.i}] > arr[${s.j}] → ✅ Swap needed`:`arr[${s.i}] ≤ arr[${s.j}] → ❌ No swap`;y(i),o&&n&&(o.classList.add("compare"),n.classList.add("compare"),await j(S),o.classList.remove("compare"),n.classList.remove("compare"))}else if(s.type==="swap"){if(y(`🔄 Swapping index ${s.i} and ${s.j}`),o&&n){o.classList.add("swap"),n.classList.add("swap");const i=o.style.height,a=n.style.height,c=o.textContent,l=n.textContent;k.to(o,{height:a,duration:.3}),k.to(n,{height:i,duration:.3}),setTimeout(()=>{o.textContent=l,n.textContent=c},300),await j(S+100),o.classList.remove("swap"),n.classList.remove("swap")}}else if(s.type==="overwrite"){const i=h.current[s.i];i&&(k.to(i,{height:`${s.val*3}px`,duration:.3,onUpdate:()=>i.textContent=s.val}),await j(S))}await j(80)}y("✅ Sorting Complete");for(let s of h.current)s.classList.add("sorted"),await j(40)},m=(e,s,o,n)=>{$({best:e,average:s,worst:o,space:n})};return p.useEffect(()=>{switch(u){case"Bubble Sort":m("O(n)","O(n²)","O(n²)","O(1)");break;case"Selection Sort":m("O(n²)","O(n²)","O(n²)","O(1)");break;case"Insertion Sort":m("O(n)","O(n²)","O(n²)","O(1)");break;case"Merge Sort":m("O(n log n)","O(n log n)","O(n log n)","O(n)");break;case"Quick Sort":m("O(n log n)","O(n log n)","O(n²)","O(log n)");break;default:m("-","-","-","-")}},[u]),t.jsxs("section",{className:"sort-visualizer-container",children:[t.jsxs("header",{className:"main-header",children:[t.jsxs("h1",{children:["Sorting Algorithm ",t.jsx("span",{id:"vis",children:"Visualizer"})]}),t.jsx("p",{children:"Choose an algorithm, adjust settings, and watch it sort!"})]}),t.jsxs("main",{className:"content-wrapper",children:[t.jsxs("div",{className:"controls-panel",children:[t.jsxs("form",{className:"controls-form",onSubmit:T,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"arraySize",children:"Array Size:"}),t.jsx("input",{id:"arraySize",type:"range",min:"5",max:"30",value:g,onChange:e=>v(parseInt(e.target.value))}),t.jsx("span",{children:g})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"manualInput",children:"Enter Array:"}),t.jsx("input",{id:"manualInput",type:"text",value:w,placeholder:"e.g. 5, 3, 8, 1",onChange:e=>R(e.target.value)}),t.jsx("button",{type:"button",id:"generate",className:"button-secondary",onClick:B,children:"Generate Random"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"algoSelect",children:"Algorithm:"}),t.jsxs("select",{id:"algoSelect",value:u,onChange:e=>L(e.target.value),children:[t.jsx("option",{value:"Bubble Sort",children:"Bubble Sort"}),t.jsx("option",{value:"Selection Sort",children:"Selection Sort"}),t.jsx("option",{value:"Insertion Sort",children:"Insertion Sort"}),t.jsx("option",{value:"Merge Sort",children:"Merge Sort"}),t.jsx("option",{value:"Quick Sort",children:"Quick Sort"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"speedRange",children:"Speed:"}),t.jsx("input",{id:"speedRange",type:"range",min:"1000",max:"4000",value:S,onChange:e=>M(Number(e.target.value))}),t.jsxs("span",{children:[S," ms"]})]}),t.jsxs("div",{className:"button-group",children:[t.jsx("button",{type:"submit",className:"button-primary",children:"Start"}),t.jsx("button",{type:"button",className:"button-secondary",onClick:P,children:A?"Resume":"Pause"}),t.jsx("button",{type:"button",className:"button-secondary",onClick:Q,children:"Reset"})]})]}),t.jsxs("div",{className:"complexity-card",children:[t.jsxs("h3",{children:["Complexity ",t.jsx("span",{id:"ana",children:"Analysis"})," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Algorithm:"})," ",u]}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Best Time:"})," ",b.best]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Average Time:"})," ",b.average]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Worst Time:"})," ",b.worst]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Space:"})," ",b.space]})]})]})]}),t.jsxs("div",{className:"visualization-area",children:[t.jsx("div",{className:"status-display",children:t.jsx("p",{className:"status-text",children:z})}),t.jsx("div",{className:"bars-container",children:N.length>0?N.map((e,s)=>t.jsxs("div",{className:"bar-wrapper",children:[t.jsx("div",{className:"bar",ref:o=>h.current[s]=o,style:{height:`${e*3}px`},children:t.jsx("span",{children:e})}),t.jsxs("div",{className:"bar-index",children:["[",s,"]"]})]},s)):t.jsx("p",{className:"placeholder-text",children:"Generate an array to begin."})})]})]})]})};export{H as default};
